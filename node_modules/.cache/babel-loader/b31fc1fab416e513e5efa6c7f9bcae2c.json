{"remainingRequest":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\cache-loader\\dist\\cjs.js??ref--1-0!C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\src\\Celador.vue?vue&type=script&lang=js","dependencies":[{"path":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\src\\Celador.vue","mtime":1746133631313},{"path":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745225969000},{"path":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\babel-loader\\lib\\index.js","mtime":1745225939000},{"path":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1745225969000},{"path":"C:\\Users\\pablo\\Downloads\\web_celadores3\\web_celadores2\\nuevo\\node_modules\\vue-loader\\lib\\index.js","mtime":1745227110000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:ZXhwb3J0IGRlZmF1bHQgewogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0cmFzbGFkb3M6IFtdLAogICAgICBzb2NrZXQ6IG51bGwsCiAgICAgIGNlbGFkb3JJZDogdGhpcy4kcm91dGUucGFyYW1zLmlkLAogICAgICBub3RpZmljYWNpb246IG51bGwKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jb25lY3RhcldlYlNvY2tldCgpOwogIH0sCiAgbWV0aG9kczogewogICAgY29uZWN0YXJXZWJTb2NrZXQoKSB7CiAgICAgIHRoaXMuc29ja2V0ID0gbmV3IFdlYlNvY2tldCgid3M6Ly9sb2NhbGhvc3Q6MzAwMCIpOwogICAgICB0aGlzLnNvY2tldC5vbm9wZW4gPSAoKSA9PiB7CiAgICAgICAgY29uc29sZS5sb2coIkNvbmVjdGFkbyBhbCBzZXJ2aWRvciBXZWJTb2NrZXQiKTsKICAgICAgICB0aGlzLnNvY2tldC5zZW5kKEpTT04uc3RyaW5naWZ5KHsKICAgICAgICAgIHR5cGU6ICdyZWdpc3RlcicsCiAgICAgICAgICBpZDogdGhpcy5jZWxhZG9ySWQKICAgICAgICB9KSk7CiAgICAgICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgICB0eXBlOiAnc29saWNpdGFyX3RyYXNsYWRvcycsCiAgICAgICAgICBjZWxhZG9ySWQ6IHRoaXMuY2VsYWRvcklkCiAgICAgICAgfSkpOwogICAgICB9OwogICAgICB0aGlzLnNvY2tldC5vbm1lc3NhZ2UgPSBldmVudCA9PiB7CiAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoZXZlbnQuZGF0YSk7CiAgICAgICAgaWYgKGRhdGEudHlwZSA9PT0gJ251ZXZvX3RyYXNsYWRvJykgewogICAgICAgICAgdGhpcy5hY3R1YWxpemFyVHJhc2xhZG9Fbkxpc3RhKGRhdGEudHJhc2xhZG8pOwogICAgICAgICAgaWYgKGRhdGEudHJhc2xhZG8uZXN0YWRvID09PSAncGVuZGllbnRlJykgewogICAgICAgICAgICB0aGlzLm5vdGlmaWNhY2lvbiA9IGBOdWV2byB0cmFzbGFkbzogJHtkYXRhLnRyYXNsYWRvLnViaWNhY2lvbn0g4oaSICR7ZGF0YS50cmFzbGFkby5kZXN0aW5vfWA7CiAgICAgICAgICAgIG5ldyBBdWRpbygnL25vdGkubXAzJykucGxheSgpOwogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHRoaXMubm90aWZpY2FjaW9uID0gbnVsbCwgNDAwMCk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChkYXRhLnR5cGUgPT09ICd0cmFzbGFkb3NfYXNpZ25hZG9zJykgewogICAgICAgICAgdGhpcy50cmFzbGFkb3MgPSBkYXRhLnRyYXNsYWRvcy5tYXAodCA9PiAoewogICAgICAgICAgICAuLi50LAogICAgICAgICAgICBhY2VwdGFkbzogdC5lc3RhZG8gPT09ICdhY2VwdGFkbycKICAgICAgICAgIH0pKTsKICAgICAgICB9IGVsc2UgaWYgKGRhdGEudHlwZSA9PT0gJ3RyYXNsYWRvX2FjZXB0YWRvX2FjdHVhbGl6YWRvJykgewogICAgICAgICAgY29uc3QgdHJhc2xhZG9BY3R1YWxpemFkbyA9IHRoaXMudHJhc2xhZG9zLmZpbmQodCA9PiB0LmlkID09PSBkYXRhLnRyYXNsYWRvSWQpOwogICAgICAgICAgaWYgKHRyYXNsYWRvQWN0dWFsaXphZG8pIHsKICAgICAgICAgICAgdHJhc2xhZG9BY3R1YWxpemFkby5ob3JhX2FjZXB0YWRvID0gZGF0YS5ob3JhX2FjZXB0YWRvOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAnYWN0dWFsaXphcl90cmFzbGFkb3MnKSB7CiAgICAgICAgICB0aGlzLnNvbGljaXRhclRyYXNsYWRvc0FjdHVhbGl6YWRvcygpOwogICAgICAgIH0gZWxzZSBpZiAoZGF0YS50eXBlID09PSAndHJhc2xhZG9fYWN0dWFsaXphZG8nKSB7CiAgICAgICAgICB0aGlzLmFjdHVhbGl6YXJUcmFzbGFkb0VuTGlzdGEoZGF0YS50cmFzbGFkbyk7CiAgICAgICAgfQogICAgICB9OwogICAgICB0aGlzLnNvY2tldC5vbmNsb3NlID0gKCkgPT4gewogICAgICAgIGNvbnNvbGUubG9nKCJXZWJTb2NrZXQgY2VycmFkbywgcmVjb25lY3RhbmRvLi4uIik7CiAgICAgICAgc2V0VGltZW91dCh0aGlzLmNvbmVjdGFyV2ViU29ja2V0LCAyMDAwKTsKICAgICAgfTsKICAgICAgdGhpcy5zb2NrZXQub25lcnJvciA9IGVycm9yID0+IHsKICAgICAgICBjb25zb2xlLmVycm9yKCJFcnJvciBlbiBXZWJTb2NrZXQ6IiwgZXJyb3IpOwogICAgICAgIHRoaXMuc29ja2V0LmNsb3NlKCk7CiAgICAgIH07CiAgICB9LAogICAgc29saWNpdGFyVHJhc2xhZG9zQWN0dWFsaXphZG9zKCkgewogICAgICBmZXRjaChgL3RyYXNsYWRvcy9wZW5kaWVudGVzYCkudGhlbihyZXNwb25zZSA9PiByZXNwb25zZS5qc29uKCkpLnRoZW4oZGF0YSA9PiB7CiAgICAgICAgdGhpcy50cmFzbGFkb3MgPSBkYXRhLm1hcCh0ID0+ICh7CiAgICAgICAgICAuLi50LAogICAgICAgICAgYWNlcHRhZG86IHQuZXN0YWRvID09PSAnYWNlcHRhZG8nCiAgICAgICAgfSkpOwogICAgICB9KS5jYXRjaChlcnJvciA9PiBjb25zb2xlLmVycm9yKCJFcnJvciBhbCBhY3R1YWxpemFyIHRyYXNsYWRvczoiLCBlcnJvcikpOwogICAgfSwKICAgIGFjdHVhbGl6YXJUcmFzbGFkb0VuTGlzdGEodHJhc2xhZG9BY3R1YWxpemFkbykgewogICAgICBjb25zdCBpbmRleCA9IHRoaXMudHJhc2xhZG9zLmZpbmRJbmRleCh0ID0+IHQuaWQgPT09IHRyYXNsYWRvQWN0dWFsaXphZG8uaWQpOwogICAgICBpZiAoaW5kZXggIT09IC0xKSB7CiAgICAgICAgdGhpcy50cmFzbGFkb3Muc3BsaWNlKGluZGV4LCAxLCB7CiAgICAgICAgICAuLi50aGlzLnRyYXNsYWRvc1tpbmRleF0sCiAgICAgICAgICAuLi50cmFzbGFkb0FjdHVhbGl6YWRvLAogICAgICAgICAgYWNlcHRhZG86IHRyYXNsYWRvQWN0dWFsaXphZG8uZXN0YWRvID09PSAnYWNlcHRhZG8nCiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy50cmFzbGFkb3MucHVzaCh7CiAgICAgICAgICAuLi50cmFzbGFkb0FjdHVhbGl6YWRvLAogICAgICAgICAgYWNlcHRhZG86IHRyYXNsYWRvQWN0dWFsaXphZG8uZXN0YWRvID09PSAnYWNlcHRhZG8nCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBhY2VwdGFyVHJhc2xhZG8odHJhc2xhZG8pIHsKICAgICAgdGhpcy5zb2NrZXQuc2VuZChKU09OLnN0cmluZ2lmeSh7CiAgICAgICAgdHlwZTogJ3RyYXNsYWRvX2FjZXB0YWRvJywKICAgICAgICB0cmFzbGFkb0lkOiB0cmFzbGFkby5pZCwKICAgICAgICBjZWxhZG9ySWQ6IHRoaXMuY2VsYWRvcklkCiAgICAgIH0pKTsKICAgICAgdGhpcy5hY3R1YWxpemFyRXN0YWRvVHJhc2xhZG8odHJhc2xhZG8uaWQsICdhY2VwdGFkbycpOwogICAgICAvLyBObyBuZWNlc2l0YW1vcyBhY3R1YWxpemFyIGhvcmFfYWNlcHRhZG8gbG9jYWxtZW50ZSBhcXXDrSwgbG8gaGFyZW1vcyBhbCByZWNpYmlyIGxhIGFjdHVhbGl6YWNpw7NuIGRlbCBiYWNrZW5kCiAgICAgIGFsZXJ0KGBUcmFzbGFkbyBhY2VwdGFkbzogJHt0cmFzbGFkby5kZXN0aW5vfWApOwogICAgfSwKICAgIGZpbmFsaXphclRyYXNsYWRvKHRyYXNsYWRvKSB7CiAgICAgIHRoaXMuc29ja2V0LnNlbmQoSlNPTi5zdHJpbmdpZnkoewogICAgICAgIHR5cGU6ICd0cmFzbGFkb19maW5hbGl6YWRvJywKICAgICAgICB0cmFzbGFkb0lkOiB0cmFzbGFkby5pZCwKICAgICAgICBjZWxhZG9ySWQ6IHRoaXMuY2VsYWRvcklkCiAgICAgIH0pKTsKICAgICAgdGhpcy50cmFzbGFkb3MgPSB0aGlzLnRyYXNsYWRvcy5maWx0ZXIodCA9PiB0LmlkICE9PSB0cmFzbGFkby5pZCk7CiAgICAgIGFsZXJ0KGBUcmFzbGFkbyBmaW5hbGl6YWRvOiAke3RyYXNsYWRvLmRlc3Rpbm99YCk7CiAgICB9LAogICAgYWN0dWFsaXphckVzdGFkb1RyYXNsYWRvKGlkLCBudWV2b0VzdGFkbykgewogICAgICBjb25zdCB0cmFzbGFkbyA9IHRoaXMudHJhc2xhZG9zLmZpbmQodCA9PiB0LmlkID09PSBpZCk7CiAgICAgIGlmICh0cmFzbGFkbykgewogICAgICAgIHRyYXNsYWRvLmVzdGFkbyA9IG51ZXZvRXN0YWRvOwogICAgICAgIHRyYXNsYWRvLmFjZXB0YWRvID0gbnVldm9Fc3RhZG8gPT09ICdhY2VwdGFkbyc7CiAgICAgIH0KICAgIH0sCiAgICBjZXJyYXJTZXNpb24oKSB7CiAgICAgIHRoaXMuJHJvdXRlci5wdXNoKCcvJyk7CiAgICB9LAogICAgZ2V0Q29uZGljaW9uZXNUZXh0byhjb25kaWNpb25lcykgewogICAgICBpZiAoQXJyYXkuaXNBcnJheShjb25kaWNpb25lcykpIHsKICAgICAgICByZXR1cm4gY29uZGljaW9uZXMubGVuZ3RoID4gMCA/IGNvbmRpY2lvbmVzLmpvaW4oJywgJykgOiAnTmluZ3VuYSc7CiAgICAgIH0KICAgICAgdHJ5IHsKICAgICAgICBjb25zdCBwYXJzZWQgPSBKU09OLnBhcnNlKGNvbmRpY2lvbmVzKTsKICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShwYXJzZWQpICYmIHBhcnNlZC5sZW5ndGggPiAwID8gcGFyc2VkLmpvaW4oJywgJykgOiAnTmluZ3VuYSc7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICByZXR1cm4gJ05pbmd1bmEnOwogICAgICB9CiAgICB9LAogICAgZ2V0UHJpb3JpdHlDb2xvckNsYXNzKHByaW9yaWRhZCkgewogICAgICBzd2l0Y2ggKHByaW9yaWRhZCkgewogICAgICAgIGNhc2UgJ0FsdGEnOgogICAgICAgICAgcmV0dXJuICdiZy1yZWQtNTAwJzsKICAgICAgICBjYXNlICdNZWRpYSc6CiAgICAgICAgICByZXR1cm4gJ2JnLXllbGxvdy01MDAnOwogICAgICAgIGNhc2UgJ0JhamEnOgogICAgICAgICAgcmV0dXJuICdiZy1ncmVlbi01MDAnOwogICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICByZXR1cm4gJ2JnLWdyYXktNTAwJzsKICAgICAgfQogICAgfSwKICAgIGdldFByaW9yaXR5Qm9yZGVyQ2xhc3MocHJpb3JpZGFkKSB7CiAgICAgIHN3aXRjaCAocHJpb3JpZGFkKSB7CiAgICAgICAgY2FzZSAnQWx0YSc6CiAgICAgICAgICByZXR1cm4gJ2JvcmRlci1yZWQtNTAwJzsKICAgICAgICBjYXNlICdNZWRpYSc6CiAgICAgICAgICByZXR1cm4gJ2JvcmRlci15ZWxsb3ctNTAwJzsKICAgICAgICBjYXNlICdCYWphJzoKICAgICAgICAgIHJldHVybiAnYm9yZGVyLWdyZWVuLTUwMCc7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgIHJldHVybiAnYm9yZGVyLWdyYXktMzAwJzsKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"names":["data","traslados","socket","celadorId","$route","params","id","notificacion","mounted","conectarWebSocket","methods","WebSocket","onopen","console","log","send","JSON","stringify","type","onmessage","event","parse","actualizarTrasladoEnLista","traslado","estado","ubicacion","destino","Audio","play","setTimeout","map","t","aceptado","trasladoActualizado","find","trasladoId","hora_aceptado","solicitarTrasladosActualizados","onclose","onerror","error","close","fetch","then","response","json","catch","index","findIndex","splice","push","aceptarTraslado","actualizarEstadoTraslado","alert","finalizarTraslado","filter","nuevoEstado","cerrarSesion","$router","getCondicionesTexto","condiciones","Array","isArray","length","join","parsed","e","getPriorityColorClass","prioridad","getPriorityBorderClass"],"sources":["src/Celador.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"notificacion\"\n         class=\"fixed top-4 right-4 bg-blue-700 text-white px-4 py-2 rounded shadow-md animate-fade z-50\">\n      {{ notificacion }}\n    </div>\n\n    <div class=\"min-h-screen bg-gradient-to-br from-white via-slate-100 to-blue-50 px-4 py-8\">\n      <div class=\"max-w-4xl mx-auto bg-white rounded-2xl shadow-md p-6 border border-gray-200\">\n        <h3 class=\"text-2xl font-bold text-blue-800 mb-6 text-center\">Traslados Pendientes</h3>\n\n        <div v-if=\"traslados.length > 0\" class=\"space-y-6\">\n          <div v-for=\"traslado in traslados\" :key=\"traslado.id\"\n          :class=\"['p-4 bg-slate-50 rounded-lg shadow-sm border-2', getPriorityBorderClass(traslado.prioridad)]\">\n            <div class=\"space-y-1\">\n              <p><span class=\"font-semibold text-gray-700\">Hora de Envío:</span> {{ traslado.hora_envio }}</p>\n              <p><span class=\"font-semibold text-gray-700\">Ubicación del paciente:</span> {{ traslado.ubicacion }}</p>\n              <p><span class=\"font-semibold text-gray-700\">Habitación del paciente:</span> {{ traslado.habitacion_actual }}</p>\n              <p><span class=\"font-semibold text-gray-700\">Destino:</span> {{ traslado.destino }}</p>\n              <p><span class=\"font-semibold text-gray-700\">Habitación de destino:</span> {{ traslado.habitacion_destino }}</p>\n              <p>\n                <span class=\"font-semibold text-gray-700\">Prioridad:</span>\n                <span :class=\"getPriorityColorClass(traslado.prioridad)\" class=\"inline-block rounded w-10 h-3 ml-2\"></span>\n              </p>\n              \n\n              <!-- <p v-if=\"traslado.estado === 'aceptado' && traslado.hora_aceptado\"> -->\n              <!-- </p> -->\n\n              <div v-if=\"traslado.estado === 'aceptado'\" class=\"pt-2 space-y-1\">\n                <p>\n                  <span class=\"font-semibold text-gray-700\">Hora de Aceptación:</span> {{ traslado.hora_aceptado}}</p>\n                  <span class=\"font-semibold text-gray-700\">Condiciones:</span>\n                  {{ getCondicionesTexto(traslado.condiciones) }}\n                <p><span class=\"font-semibold text-gray-700\">Aislamiento:</span> {{ traslado.aislamiento }}</p>\n                <p><span class=\"font-semibold text-gray-700\">Motivo:</span> {{ traslado.motivo }}</p>\n              </div>\n            </div>\n\n            <div class=\"mt-4 flex gap-3\">\n              <button v-if=\"traslado.estado === 'pendiente'\"\n                      @click=\"aceptarTraslado(traslado)\"\n                      class=\"bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded-md shadow transition\">\n                Aceptar\n              </button>\n\n              <button v-if=\"traslado.estado === 'aceptado'\"\n                      @click=\"finalizarTraslado(traslado)\"\n                      class=\"bg-green-600 hover:bg-green-700 text-white font-semibold px-4 py-2 rounded-md shadow transition\">\n                Finalizar\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <div v-else class=\"text-center text-gray-500 mt-4\">\n          <p>No hay traslados pendientes.</p>\n        </div>\n\n        <div class=\"mt-8 text-center\">\n          <button @click=\"cerrarSesion\"\n                  class=\"bg-gray-300 hover:bg-gray-400 text-gray-800 font-medium px-4 py-2 rounded-md transition\">\n            Cerrar sesión\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  data() {\n    return {\n      traslados: [],\n      socket: null,\n      celadorId: this.$route.params.id,\n      notificacion: null\n    };\n  },\n  mounted() {\n    this.conectarWebSocket();\n  },\n  methods: {\n    conectarWebSocket() {\n      this.socket = new WebSocket(\"ws://localhost:3000\");\n\n      this.socket.onopen = () => {\n        console.log(\"Conectado al servidor WebSocket\");\n        this.socket.send(JSON.stringify({ type: 'register', id: this.celadorId }));\n        this.socket.send(JSON.stringify({ type: 'solicitar_traslados', celadorId: this.celadorId }));\n      };\n\n      this.socket.onmessage = (event) => {\n        const data = JSON.parse(event.data);\n\n        if (data.type === 'nuevo_traslado') {\n          this.actualizarTrasladoEnLista(data.traslado);\n          if (data.traslado.estado === 'pendiente') {\n            this.notificacion = `Nuevo traslado: ${data.traslado.ubicacion} → ${data.traslado.destino}`;\n            new Audio('/noti.mp3').play();\n            setTimeout(() => this.notificacion = null, 4000);\n          }\n        } else if (data.type === 'traslados_asignados') {\n          this.traslados = data.traslados.map(t => ({\n            ...t,\n            aceptado: t.estado === 'aceptado'\n          }));\n        } else if (data.type === 'traslado_aceptado_actualizado') {\n          const trasladoActualizado = this.traslados.find(t => t.id === data.trasladoId);\n          if (trasladoActualizado) {\n            trasladoActualizado.hora_aceptado = data.hora_aceptado;\n          }\n        } else if (data.type === 'actualizar_traslados') {\n          this.solicitarTrasladosActualizados();\n        } else if (data.type === 'traslado_actualizado') {\n          this.actualizarTrasladoEnLista(data.traslado);\n        \n        }\n      };\n\n      this.socket.onclose = () => {\n        console.log(\"WebSocket cerrado, reconectando...\");\n        setTimeout(this.conectarWebSocket, 2000);\n      };\n\n      this.socket.onerror = (error) => {\n        console.error(\"Error en WebSocket:\", error);\n        this.socket.close();\n      };\n    },\n\n    solicitarTrasladosActualizados() {\n      fetch(`/traslados/pendientes`)\n        .then(response => response.json())\n        .then(data => {\n          this.traslados = data.map(t => ({ ...t, aceptado: t.estado === 'aceptado' }));\n        })\n        .catch(error => console.error(\"Error al actualizar traslados:\", error));\n    },\n\n    actualizarTrasladoEnLista(trasladoActualizado) {\n      const index = this.traslados.findIndex(t => t.id === trasladoActualizado.id);\n      if (index !== -1) {\n        this.traslados.splice(index, 1, { ...this.traslados[index], ...trasladoActualizado, aceptado: trasladoActualizado.estado === 'aceptado' });\n      } else {\n        this.traslados.push({ ...trasladoActualizado, aceptado: trasladoActualizado.estado === 'aceptado' });\n      }\n    },\n\n    aceptarTraslado(traslado) {\n      this.socket.send(JSON.stringify({\n        type: 'traslado_aceptado',\n        trasladoId: traslado.id,\n        celadorId: this.celadorId\n      }));\n      this.actualizarEstadoTraslado(traslado.id, 'aceptado');\n      // No necesitamos actualizar hora_aceptado localmente aquí, lo haremos al recibir la actualización del backend\n      alert(`Traslado aceptado: ${traslado.destino}`);\n    },\n\n    finalizarTraslado(traslado) {\n      this.socket.send(JSON.stringify({\n        type: 'traslado_finalizado',\n        trasladoId: traslado.id,\n        celadorId: this.celadorId\n      }));\n      this.traslados = this.traslados.filter(t => t.id !== traslado.id);\n      alert(`Traslado finalizado: ${traslado.destino}`);\n    },\n\n    actualizarEstadoTraslado(id, nuevoEstado) {\n      const traslado = this.traslados.find(t => t.id === id);\n      if (traslado) {\n        traslado.estado = nuevoEstado;\n        traslado.aceptado = nuevoEstado === 'aceptado';\n      }\n    },\n\n    cerrarSesion() {\n      this.$router.push('/');\n    },\n\n    getCondicionesTexto(condiciones) {\n      if (Array.isArray(condiciones)) {\n        return condiciones.length > 0 ? condiciones.join(', ') : 'Ninguna';\n      }\n      try {\n        const parsed = JSON.parse(condiciones);\n        return Array.isArray(parsed) && parsed.length > 0 ? parsed.join(', ') : 'Ninguna';\n      } catch (e) {\n        return 'Ninguna';\n      }\n    },\n    getPriorityColorClass(prioridad) {\n      switch (prioridad) {\n        case 'Alta':\n          return 'bg-red-500';\n        case 'Media':\n          return 'bg-yellow-500';\n        case 'Baja':\n          return 'bg-green-500';\n        default:\n          return 'bg-gray-500';\n      }\n    },\n    getPriorityBorderClass(prioridad) {\n      switch (prioridad) {\n        case 'Alta':\n          return 'border-red-500';\n        case 'Media':\n          return 'border-yellow-500';\n        case 'Baja':\n          return 'border-green-500';\n        default:\n          return 'border-gray-300';\n      }\n    }\n\n  }\n};\n</script>\n\n<style scoped>\n@keyframes fade {\n  0% { opacity: 0; transform: translateY(-10px); }\n  10% { opacity: 1; transform: translateY(0); }\n  90% { opacity: 1; }\n  100% { opacity: 0; transform: translateY(-10px); }\n}\n\n.animate-fade {\n  animation: fade 4s ease-in-out forwards;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}